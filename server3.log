2025-09-07 11:10:27,182 - app - INFO - Database tables created successfully
2025-09-07 11:10:27,182 - __main__ - INFO - Starting ChronoStories on port 40268
 * Serving Flask app 'app'
 * Debug mode: off
2025-09-07 11:10:27,186 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:40268
 * Running on http://172.17.0.5:40268
2025-09-07 11:10:27,187 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-07 11:10:37,911 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:37] "GET / HTTP/1.1" 200 -
2025-09-07 11:10:37,965 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:37] "GET /static/css/style.css HTTP/1.1" 200 -
2025-09-07 11:10:37,966 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:37] "GET /static/js/main.js HTTP/1.1" 200 -
2025-09-07 11:10:38,020 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:38] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:10:42,991 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:42] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:10:48,027 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:48] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:10:53,037 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:53] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:10:58,048 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:10:58] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:03,066 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:08,110 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:13,093 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:13] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:18,168 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:18] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:19,448 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:19] "GET / HTTP/1.1" 200 -
2025-09-07 11:11:19,494 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:19] "GET /static/css/style.css HTTP/1.1" 200 -
2025-09-07 11:11:19,694 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:19] "GET /static/js/main.js HTTP/1.1" 200 -
2025-09-07 11:11:23,472 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:23] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:28,778 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:34,900 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:37,783 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:37] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:37,935 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-09-07 11:11:40,420 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:43,036 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:43] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:47,086 - app.routes - ERROR - Error loading dashboard: No filter named 'number_format'.
2025-09-07 11:11:47,086 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/workspace/AniStory/app/routes.py", line 104, in dashboard
    return render_template('dashboard.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/dashboard.html", line 49, in template
    <h3 class="mb-0">{{ metrics.total_views|number_format }}</h3>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateAssertionError: No filter named 'number_format'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/AniStory/app/routes.py", line 112, in dashboard
    return render_template('error.html', error="Failed to load dashboard"), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: error.html
2025-09-07 11:11:47,092 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:47] "[35m[1mGET /dashboard HTTP/1.1[0m" 500 -
2025-09-07 11:11:50,338 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:50] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:51,291 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:56,642 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:11:56] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:11:59,758 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:11:59] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:01,985 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:01] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:07,348 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:07] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:08,576 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:12:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:09,424 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:09] "GET / HTTP/1.1" 200 -
2025-09-07 11:12:09,452 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:09] "GET / HTTP/1.1" 200 -
2025-09-07 11:12:09,778 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:09] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-09-07 11:12:09,779 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:09] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-09-07 11:12:10,105 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:10] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:12,853 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:12] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:15,843 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:16,983 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:12:16] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:18,839 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:18] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:21,856 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:24,868 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:24] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:26,626 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:12:26] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:27,876 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:30,902 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:30] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:33,910 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:35,340 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:12:35] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:36,942 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:36] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:39,855 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:42,833 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:42] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:44,705 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:12:44] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:45,911 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:48,876 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:48] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:51,866 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:52,604 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:12:52] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:54,877 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:54] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:12:57,887 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:12:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:00,780 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:00] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:00,937 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:00] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:03,934 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:06,970 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:06] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:09,111 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:09,850 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:12,895 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:12] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:15,840 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:18,918 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:18] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:19,003 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:19] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:21,853 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:24,968 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:24] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:27,768 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:27,886 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:31,184 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:31] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:33,932 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:37,006 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:37] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:37,427 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:37] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:39,868 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:43,427 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:43] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:45,859 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:46,807 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:50,674 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:50] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:51,875 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:52,897 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:52] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:57,901 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:57,904 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:13:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:13:58,882 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:13:58] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:02,911 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:02] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:03,942 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:07,918 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:07] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:08,405 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:09,881 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:12,835 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:12] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:15,695 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:15,849 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:17,844 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:17] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:21,872 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:21,901 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:22,851 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:22] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:27,866 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:27,887 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:27,903 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:32,889 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:32] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:33,919 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:33,935 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:37,918 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:37] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:39,853 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:39,884 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:42,885 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:42] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:45,835 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:45,868 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:47,987 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:47] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:51,860 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:51,884 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:53,081 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:53] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:57,906 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:57,936 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:14:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:14:58,557 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:14:58] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:03,924 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:03,954 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:04,387 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:15:04] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:05,901 - app.routes - ERROR - Error loading dashboard: No filter named 'number_format'.
2025-09-07 11:15:05,907 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/workspace/AniStory/app/routes.py", line 104, in dashboard
    return render_template('dashboard.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/dashboard.html", line 49, in template
    <h3 class="mb-0">{{ metrics.total_views|number_format }}</h3>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateAssertionError: No filter named 'number_format'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/AniStory/app/routes.py", line 112, in dashboard
    return render_template('error.html', error="Failed to load dashboard"), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/error.html", line 16, in top-level template code
    {% include 'navbar.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: navbar.html
2025-09-07 11:15:05,911 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:15:05] "[35m[1mGET /dashboard HTTP/1.1[0m" 500 -
2025-09-07 11:15:09,868 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:09,899 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:15,857 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:15,884 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:21,898 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:21,930 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:27,955 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:28,018 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:34,142 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:34,223 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:40,035 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:40,066 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:46,515 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:46,584 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:53,967 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:53] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:15:54,257 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:15:54] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:02,810 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:02] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:04,615 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:04] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:11,296 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:11] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:11,649 - app.routes - ERROR - Error loading dashboard: No filter named 'number_format'.
2025-09-07 11:16:11,650 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/workspace/AniStory/app/routes.py", line 104, in dashboard
    return render_template('dashboard.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/dashboard.html", line 49, in template
    <h3 class="mb-0">{{ metrics.total_views|number_format }}</h3>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateAssertionError: No filter named 'number_format'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/AniStory/app/routes.py", line 112, in dashboard
    return render_template('error.html', error="Failed to load dashboard"), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/error.html", line 16, in top-level template code
    <!-- Navigation -->
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: navbar.html
2025-09-07 11:16:11,653 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:16:11] "[35m[1mGET /dashboard HTTP/1.1[0m" 500 -
2025-09-07 11:16:12,037 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:12] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:19,539 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:19] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:20,369 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:20] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:28,864 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:30,258 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:30] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:37,300 - app.routes - ERROR - Error loading dashboard: No filter named 'number_format'.
2025-09-07 11:16:37,301 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/workspace/AniStory/app/routes.py", line 104, in dashboard
    return render_template('dashboard.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 771, in compile
    self.handle_exception(source=source_hint)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/dashboard.html", line 49, in template
    <h3 class="mb-0">{{ metrics.total_views|number_format }}</h3>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateAssertionError: No filter named 'number_format'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/AniStory/app/routes.py", line 112, in dashboard
    recent_analytics=recent_analytics)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/error.html", line 16, in top-level template code
    <!-- Navigation -->
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: navbar.html
2025-09-07 11:16:37,303 - werkzeug - INFO - 127.0.0.1 - - [07/Sep/2025 11:16:37] "[35m[1mGET /dashboard HTTP/1.1[0m" 500 -
2025-09-07 11:16:39,049 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:39,790 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:46,359 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:50,407 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:50] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:56,141 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:56] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:16:59,616 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:16:59] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:03,234 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:08,759 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:09,994 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:17,693 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:17] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:18,915 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:18] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:26,661 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:26] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:28,479 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:34,579 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:38,501 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:38] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:42,818 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:42] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:45,112 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:52,188 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:52] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:55,665 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:55] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:17:59,394 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:17:59] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:05,242 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:05] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:08,101 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:15,578 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:16,957 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:16] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:21,860 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:22,849 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:22] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:27,882 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:28,888 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:33,917 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:34,917 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:39,843 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:40,854 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:45,835 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:46,843 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:51,890 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:52,863 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:52] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:57,888 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:18:58,907 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:18:58] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:03,931 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:04,935 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:04] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:09,870 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:10,869 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:10] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:15,846 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:16,875 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:16] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:21,878 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:22,900 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:22] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:27,935 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:28,959 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:33,933 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:35,240 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:35] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:39,879 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:41,122 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:41] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:45,857 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:47,225 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:47] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:51,871 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:55,201 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:55] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:19:57,915 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:19:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:04,008 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:04] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:05,060 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:05] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:09,904 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:15,619 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:16,020 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:16] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:21,851 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:21,875 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:27,873 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:27,903 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:33,904 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:33,923 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:39,834 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:39,865 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:45,823 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:45,854 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:51,845 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:51,875 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:57,868 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:20:57,898 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:20:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:03,906 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:03,928 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:09,842 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:09,869 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:15,866 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:15,896 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:15] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:21,932 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:22,081 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:22] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:27,969 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:28,025 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:33,984 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:34,207 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:40,043 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:40,137 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:46,706 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:46,904 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:53,442 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:53] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:21:54,245 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:21:54] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:01,476 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:01] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:04,207 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:04] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:10,416 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:10] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:10,949 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:10] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:19,574 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:19] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:19,896 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:19] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:27,692 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:29,510 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:29] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:36,617 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:36] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:38,633 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:38] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:45,743 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:49,028 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:49] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:56,890 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:56] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:22:59,217 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:22:59] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:07,000 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:07] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:08,522 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:13,967 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:13] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:19,796 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:19] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:23,503 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:23] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:30,698 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:30] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:34,005 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:39,160 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:42,365 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:42] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:49,235 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:49] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:52,640 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:52] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:23:59,737 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:23:59] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:01,569 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:01] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:08,581 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:10,352 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:10] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:16,796 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:16] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:17,706 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:17] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:22,819 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:22] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:24,319 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:24] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:28,843 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:31,001 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:31] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:34,881 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:34] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:37,719 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:37] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:38,680 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:38] "GET / HTTP/1.1" 200 -
2025-09-07 11:24:38,706 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:38] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-09-07 11:24:38,947 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:38] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-09-07 11:24:40,839 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:43,296 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:43] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:46,834 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:46] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:50,656 - app.routes - ERROR - Error loading dashboard: (sqlite3.OperationalError) no such column: stories.source_title
[SQL: SELECT count(*) AS count_1 
FROM (SELECT stories.id AS stories_id, stories.title AS stories_title, stories.content AS stories_content, stories.summary AS stories_summary, stories.source_type AS stories_source_type, stories.source_url AS stories_source_url, stories.source_title AS stories_source_title, stories.ai_headline AS stories_ai_headline, stories.ai_caption AS stories_ai_caption, stories.ai_narrative AS stories_ai_narrative, stories.image_url AS stories_image_url, stories.image_prompt AS stories_image_prompt, stories.image_style AS stories_image_style, stories.category AS stories_category, stories.tags AS stories_tags, stories.sentiment AS stories_sentiment, stories.country AS stories_country, stories.language AS stories_language, stories.published_at AS stories_published_at, stories.is_part_of_series AS stories_is_part_of_series, stories.series_id AS stories_series_id, stories.sequence_number AS stories_sequence_number, stories.total_parts AS stories_total_parts, stories.views AS stories_views, stories.likes AS stories_likes, stories.shares AS stories_shares, stories.engagement_rate AS stories_engagement_rate, stories.status AS stories_status, stories.workflow_stage AS stories_workflow_stage, stories.ai_processing_time AS stories_ai_processing_time, stories.ai_model_version AS stories_ai_model_version, stories.ai_confidence_score AS stories_ai_confidence_score, stories.error_message AS stories_error_message, stories.retry_count AS stories_retry_count, stories.created_at AS stories_created_at, stories.updated_at AS stories_updated_at, stories.processed_at AS stories_processed_at 
FROM stories) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-07 11:24:50,658 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: stories.source_title

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspace/AniStory/app/routes.py", line 90, in dashboard
    total_stories = Story.query.count()
                    ^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 3132, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2825, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2798, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: stories.source_title
[SQL: SELECT count(*) AS count_1 
FROM (SELECT stories.id AS stories_id, stories.title AS stories_title, stories.content AS stories_content, stories.summary AS stories_summary, stories.source_type AS stories_source_type, stories.source_url AS stories_source_url, stories.source_title AS stories_source_title, stories.ai_headline AS stories_ai_headline, stories.ai_caption AS stories_ai_caption, stories.ai_narrative AS stories_ai_narrative, stories.image_url AS stories_image_url, stories.image_prompt AS stories_image_prompt, stories.image_style AS stories_image_style, stories.category AS stories_category, stories.tags AS stories_tags, stories.sentiment AS stories_sentiment, stories.country AS stories_country, stories.language AS stories_language, stories.published_at AS stories_published_at, stories.is_part_of_series AS stories_is_part_of_series, stories.series_id AS stories_series_id, stories.sequence_number AS stories_sequence_number, stories.total_parts AS stories_total_parts, stories.views AS stories_views, stories.likes AS stories_likes, stories.shares AS stories_shares, stories.engagement_rate AS stories_engagement_rate, stories.status AS stories_status, stories.workflow_stage AS stories_workflow_stage, stories.ai_processing_time AS stories_ai_processing_time, stories.ai_model_version AS stories_ai_model_version, stories.ai_confidence_score AS stories_ai_confidence_score, stories.error_message AS stories_error_message, stories.retry_count AS stories_retry_count, stories.created_at AS stories_created_at, stories.updated_at AS stories_updated_at, stories.processed_at AS stories_processed_at 
FROM stories) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/AniStory/app/routes.py", line 112, in dashboard
    recent_analytics=recent_analytics)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/error.html", line 16, in top-level template code
    <!-- Navigation -->
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: navbar.html
2025-09-07 11:24:50,667 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:50] "[35m[1mGET /dashboard HTTP/1.1[0m" 500 -
2025-09-07 11:24:52,863 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:52] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:53,714 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:53] "GET / HTTP/1.1" 200 -
2025-09-07 11:24:57,586 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:57] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:24:58,356 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:58] "GET / HTTP/1.1" 200 -
2025-09-07 11:24:58,673 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:58] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-09-07 11:24:58,691 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:58] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-09-07 11:24:58,890 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:24:58] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:00,195 - app.routes - ERROR - Error loading stories list: (sqlite3.OperationalError) no such column: stories.source_title
[SQL: SELECT stories.id AS stories_id, stories.title AS stories_title, stories.content AS stories_content, stories.summary AS stories_summary, stories.source_type AS stories_source_type, stories.source_url AS stories_source_url, stories.source_title AS stories_source_title, stories.ai_headline AS stories_ai_headline, stories.ai_caption AS stories_ai_caption, stories.ai_narrative AS stories_ai_narrative, stories.image_url AS stories_image_url, stories.image_prompt AS stories_image_prompt, stories.image_style AS stories_image_style, stories.category AS stories_category, stories.tags AS stories_tags, stories.sentiment AS stories_sentiment, stories.country AS stories_country, stories.language AS stories_language, stories.published_at AS stories_published_at, stories.is_part_of_series AS stories_is_part_of_series, stories.series_id AS stories_series_id, stories.sequence_number AS stories_sequence_number, stories.total_parts AS stories_total_parts, stories.views AS stories_views, stories.likes AS stories_likes, stories.shares AS stories_shares, stories.engagement_rate AS stories_engagement_rate, stories.status AS stories_status, stories.workflow_stage AS stories_workflow_stage, stories.ai_processing_time AS stories_ai_processing_time, stories.ai_model_version AS stories_ai_model_version, stories.ai_confidence_score AS stories_ai_confidence_score, stories.error_message AS stories_error_message, stories.retry_count AS stories_retry_count, stories.created_at AS stories_created_at, stories.updated_at AS stories_updated_at, stories.processed_at AS stories_processed_at 
FROM stories ORDER BY stories.created_at DESC
 LIMIT ? OFFSET ?]
[parameters: (12, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-07 11:25:00,196 - app - ERROR - Exception on /stories/ [GET]
Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: stories.source_title

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspace/AniStory/app/routes.py", line 150, in stories_list
    query = query.order_by(Story.created_at.desc())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_sqlalchemy/query.py", line 98, in paginate
    return QueryPagination(
           ^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_sqlalchemy/pagination.py", line 72, in __init__
    items = self._query_items()
            ^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_sqlalchemy/pagination.py", line 358, in _query_items
    out = query.limit(self.per_page).offset(self._query_offset).all()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: stories.source_title
[SQL: SELECT stories.id AS stories_id, stories.title AS stories_title, stories.content AS stories_content, stories.summary AS stories_summary, stories.source_type AS stories_source_type, stories.source_url AS stories_source_url, stories.source_title AS stories_source_title, stories.ai_headline AS stories_ai_headline, stories.ai_caption AS stories_ai_caption, stories.ai_narrative AS stories_ai_narrative, stories.image_url AS stories_image_url, stories.image_prompt AS stories_image_prompt, stories.image_style AS stories_image_style, stories.category AS stories_category, stories.tags AS stories_tags, stories.sentiment AS stories_sentiment, stories.country AS stories_country, stories.language AS stories_language, stories.published_at AS stories_published_at, stories.is_part_of_series AS stories_is_part_of_series, stories.series_id AS stories_series_id, stories.sequence_number AS stories_sequence_number, stories.total_parts AS stories_total_parts, stories.views AS stories_views, stories.likes AS stories_likes, stories.shares AS stories_shares, stories.engagement_rate AS stories_engagement_rate, stories.status AS stories_status, stories.workflow_stage AS stories_workflow_stage, stories.ai_processing_time AS stories_ai_processing_time, stories.ai_model_version AS stories_ai_model_version, stories.ai_confidence_score AS stories_ai_confidence_score, stories.error_message AS stories_error_message, stories.retry_count AS stories_retry_count, stories.created_at AS stories_created_at, stories.updated_at AS stories_updated_at, stories.processed_at AS stories_processed_at 
FROM stories ORDER BY stories.created_at DESC
 LIMIT ? OFFSET ?]
[parameters: (12, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/AniStory/app/routes.py", line 158, in stories_list
    current_category=category_filter)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/error.html", line 16, in top-level template code
    <!-- Navigation -->
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: navbar.html
2025-09-07 11:25:00,230 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:00] "[35m[1mGET /stories/ HTTP/1.1[0m" 500 -
2025-09-07 11:25:04,006 - app.routes - ERROR - Error loading dashboard: (sqlite3.OperationalError) no such column: stories.source_title
[SQL: SELECT count(*) AS count_1 
FROM (SELECT stories.id AS stories_id, stories.title AS stories_title, stories.content AS stories_content, stories.summary AS stories_summary, stories.source_type AS stories_source_type, stories.source_url AS stories_source_url, stories.source_title AS stories_source_title, stories.ai_headline AS stories_ai_headline, stories.ai_caption AS stories_ai_caption, stories.ai_narrative AS stories_ai_narrative, stories.image_url AS stories_image_url, stories.image_prompt AS stories_image_prompt, stories.image_style AS stories_image_style, stories.category AS stories_category, stories.tags AS stories_tags, stories.sentiment AS stories_sentiment, stories.country AS stories_country, stories.language AS stories_language, stories.published_at AS stories_published_at, stories.is_part_of_series AS stories_is_part_of_series, stories.series_id AS stories_series_id, stories.sequence_number AS stories_sequence_number, stories.total_parts AS stories_total_parts, stories.views AS stories_views, stories.likes AS stories_likes, stories.shares AS stories_shares, stories.engagement_rate AS stories_engagement_rate, stories.status AS stories_status, stories.workflow_stage AS stories_workflow_stage, stories.ai_processing_time AS stories_ai_processing_time, stories.ai_model_version AS stories_ai_model_version, stories.ai_confidence_score AS stories_ai_confidence_score, stories.error_message AS stories_error_message, stories.retry_count AS stories_retry_count, stories.created_at AS stories_created_at, stories.updated_at AS stories_updated_at, stories.processed_at AS stories_processed_at 
FROM stories) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-07 11:25:04,007 - app - ERROR - Exception on /dashboard [GET]
Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: stories.source_title

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspace/AniStory/app/routes.py", line 90, in dashboard
    total_stories = Story.query.count()
                    ^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 3132, in count
    self._legacy_from_self(col).enable_eagerloads(False).scalar()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2825, in scalar
    ret = self.one()
          ^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2798, in one
    return self._iter().one()  # type: ignore
           ^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: stories.source_title
[SQL: SELECT count(*) AS count_1 
FROM (SELECT stories.id AS stories_id, stories.title AS stories_title, stories.content AS stories_content, stories.summary AS stories_summary, stories.source_type AS stories_source_type, stories.source_url AS stories_source_url, stories.source_title AS stories_source_title, stories.ai_headline AS stories_ai_headline, stories.ai_caption AS stories_ai_caption, stories.ai_narrative AS stories_ai_narrative, stories.image_url AS stories_image_url, stories.image_prompt AS stories_image_prompt, stories.image_style AS stories_image_style, stories.category AS stories_category, stories.tags AS stories_tags, stories.sentiment AS stories_sentiment, stories.country AS stories_country, stories.language AS stories_language, stories.published_at AS stories_published_at, stories.is_part_of_series AS stories_is_part_of_series, stories.series_id AS stories_series_id, stories.sequence_number AS stories_sequence_number, stories.total_parts AS stories_total_parts, stories.views AS stories_views, stories.likes AS stories_likes, stories.shares AS stories_shares, stories.engagement_rate AS stories_engagement_rate, stories.status AS stories_status, stories.workflow_stage AS stories_workflow_stage, stories.ai_processing_time AS stories_ai_processing_time, stories.ai_model_version AS stories_ai_model_version, stories.ai_confidence_score AS stories_ai_confidence_score, stories.error_message AS stories_error_message, stories.retry_count AS stories_retry_count, stories.created_at AS stories_created_at, stories.updated_at AS stories_updated_at, stories.processed_at AS stories_processed_at 
FROM stories) AS anon_1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspace/AniStory/app/routes.py", line 112, in dashboard
    recent_analytics=recent_analytics)
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/workspace/AniStory/app/templates/error.html", line 16, in top-level template code
    <!-- Navigation -->
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/openhands/micromamba/envs/openhands/lib/python3.12/site-packages/flask/templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: navbar.html
2025-09-07 11:25:04,011 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:04] "[35m[1mGET /dashboard HTTP/1.1[0m" 500 -
2025-09-07 11:25:04,919 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:04] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:07,765 - app.routes - ERROR - Error in generate story endpoint: name 'PerformanceAnalyzer' is not defined
2025-09-07 11:25:07,766 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:07] "[35m[1mPOST /api/generate-story HTTP/1.1[0m" 500 -
2025-09-07 11:25:09,909 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:09] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:10,886 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:10] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:16,899 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:16] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:17,445 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:17] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:22,740 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:22] "GET / HTTP/1.1" 200 -
2025-09-07 11:25:22,926 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:22] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:25,856 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:25] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:28,946 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:28] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:33,801 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:35,081 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:35] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:40,997 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:42,747 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:42] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:47,378 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:47] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:50,767 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:50] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:55,218 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:55] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:25:59,476 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:25:59] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:03,531 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:03] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:08,816 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:08] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:10,947 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:10] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:16,272 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:16] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:20,891 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:20] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:21,855 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:21] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:27,863 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:27] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:30,174 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:30] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:33,892 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:33] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:39,837 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:39] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:40,075 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:40] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:45,830 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:45] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:47,764 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:47] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:51,828 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:51] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
2025-09-07 11:26:56,639 - werkzeug - INFO - 172.17.0.1 - - [07/Sep/2025 11:26:56] "[33mGET /ws/notifications HTTP/1.1[0m" 404 -
